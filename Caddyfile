# Main domain - public-facing Link-in-Bio site
# Replace 'festas-builds.com' with your actual domain
festas-builds.com {
    tls eric@festas-builds.com
    reverse_proxy web:8000
}

# Admin subdomain - administrative interface
# Replace 'festas-builds.com' with your actual domain
admin.festas-builds.com {
    tls eric@festas-builds.com
    reverse_proxy web:8000
}

# RigPilot subdomain - PC Builder application
# The rigpilot container must join the 'caddy-network' external network
rigpilot.festas-builds.com {
    tls eric@festas-builds.com
    encode gzip zstd
    
    # Cache static Next.js assets with immutable cache headers
    @static path /_next/static/*
    header @static Cache-Control "public, max-age=31536000, immutable"
    
    reverse_proxy rigpilot:3000
}
